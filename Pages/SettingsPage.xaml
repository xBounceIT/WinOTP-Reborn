<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="WinOTP.Pages.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Padding="16">
        <StackPanel Spacing="8">
            <!-- Security Settings -->
            <Border
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                CornerRadius="8"
                Padding="12">
                <StackPanel Spacing="8">
                    <TextBlock
                        Text="Security"
                        Style="{StaticResource BodyStrongTextBlockStyle}" />
                    <ToggleSwitch
                        x:Name="PinProtectionToggle"
                        Header="Protect app with PIN"
                        Toggled="PinProtectionToggle_Toggled" />
                    <ToggleSwitch
                        x:Name="PasswordProtectionToggle"
                        Header="Protect app with password"
                        Toggled="PasswordProtectionToggle_Toggled" />
                    <ToggleSwitch
                        x:Name="WindowsHelloToggle"
                        Header="Protect app with Windows Hello"
                        Toggled="WindowsHelloToggle_Toggled" />

                    <ComboBox
                        x:Name="AutoLockComboBox"
                        Header="Auto-lock after inactivity"
                        Width="200"
                        HorizontalAlignment="Left"
                        SelectionChanged="AutoLockComboBox_SelectionChanged">
                        <ComboBoxItem Content="Never" Tag="0" />
                        <ComboBoxItem Content="1 minute" Tag="1" />
                        <ComboBoxItem Content="2 minutes" Tag="2" />
                        <ComboBoxItem Content="5 minutes" Tag="5" />
                        <ComboBoxItem Content="10 minutes" Tag="10" />
                        <ComboBoxItem Content="15 minutes" Tag="15" />
                        <ComboBoxItem Content="30 minutes" Tag="30" />
                    </ComboBox>
                    <TextBlock
                        Text="Automatically lock the app after a period of inactivity when protection is enabled."
                        Style="{StaticResource CaptionTextBlockStyle}"
                        Opacity="0.7"
                        TextWrapping="WrapWholeWords" />
                </StackPanel>
            </Border>

            <!-- Display Settings -->
            <Border
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                CornerRadius="8"
                Padding="12">
                <StackPanel Spacing="8">
                    <TextBlock
                        Text="Display"
                        Style="{StaticResource BodyStrongTextBlockStyle}" />
                    <ToggleSwitch
                        x:Name="ShowNextCodeToggle"
                        Header="Show next TOTP code when 5 seconds remain"
                        Toggled="ShowNextCodeToggle_Toggled" />
                    <TextBlock
                        Text="Keeps the current code visible and shows the upcoming code as a hint in the last 5 seconds."
                        Style="{StaticResource CaptionTextBlockStyle}"
                        Opacity="0.7"
                        TextWrapping="WrapWholeWords" />
                </StackPanel>
            </Border>

            <!-- About Card -->
            <Border
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                CornerRadius="8"
                Padding="12">
                <StackPanel Spacing="12">
                    <!-- Title -->
                    <TextBlock
                        Text="About"
                        Style="{StaticResource BodyStrongTextBlockStyle}" />

                    <!-- Version Row -->
                    <Grid HorizontalAlignment="Stretch">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Text="Version"
                            Style="{StaticResource BodyTextBlockStyle}"
                            VerticalAlignment="Center"/>
                        <TextBlock
                            Grid.Column="1"
                            x:Name="VersionTextBlock"
                            Text="0.1.0"
                            Style="{StaticResource BodyTextBlockStyle}"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Opacity="0.8"/>
                    </Grid>

                    <!-- GitHub Repository Row -->
                    <Grid HorizontalAlignment="Stretch">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Text="GitHub Repository"
                            Style="{StaticResource BodyTextBlockStyle}"
                            VerticalAlignment="Center"/>
                        <Button
                            Grid.Column="1"
                            x:Name="GoToRepositoryButton"
                            Click="GoToRepositoryButton_Click"
                            HorizontalAlignment="Right">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="&#xE8A7;" FontSize="14"/>
                                <TextBlock Text="Go to repository"/>
                            </StackPanel>
                        </Button>
                    </Grid>

                    <!-- Owner Row -->
                    <Grid HorizontalAlignment="Stretch">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Text="Owner"
                            Style="{StaticResource BodyTextBlockStyle}"
                            VerticalAlignment="Center"/>
                        <TextBlock
                            Grid.Column="1"
                            Text="Daniel D'Angeli"
                            Style="{StaticResource BodyTextBlockStyle}"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Opacity="0.8"/>
                    </Grid>

                    <!-- License Row -->
                    <Grid HorizontalAlignment="Stretch">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            Grid.Column="0"
                            Text="License"
                            Style="{StaticResource BodyTextBlockStyle}"
                            VerticalAlignment="Center"/>
                        <TextBlock
                            Grid.Column="1"
                            Text="MIT"
                            Style="{StaticResource BodyTextBlockStyle}"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Opacity="0.8"/>
                    </Grid>
                </StackPanel>
            </Border>

        </StackPanel>
    </Grid>

</Page>
